<header>
  <nav class="nav">
    <h1>
      <a routerLink="/" class="text-decoration-none">
        ğŸ–Šï¸ Canetas Personalizadas
      </a>
    </h1>

    <div *ngIf="menuType === 'default'" class="nav-search">
      <input
        type="text"
        [(ngModel)]="searchTerm"
        (ngModelChange)="searchProducts(searchTerm)"
        (blur)="hideSearch()"
        class="form-control"
        placeholder="ğŸ” Pesquisar Canetas..."
      />
      <button
        class="btn btn-outline-primary"
        (click)="submitSearch(searchTerm)"
      >
        Pesquisar
      </button>
      <ul class="suggested-search" *ngIf="searchResult.length > 0">
        <li *ngFor="let item of searchResult">
          <a (mousedown)="redirectToDetails(item.id)"> {{ item.name }} </a>
        </li>
      </ul>
    </div>

    <div [ngSwitch]="menuType">
      <!-- Menu para Visitantes -->
      <ul *ngSwitchCase="'default'" class="nav-links">
        <li>
          <a routerLink="/" class="nav-link btn btn-outline-primary">ğŸ  Home</a>
        </li>
        <li>
          <a routerLink="seller-auth" class="nav-link btn btn-outline-primary"
            >ğŸ›ï¸ Ãrea do Vendedor</a
          >
        </li>

        <!-- Se o usuÃ¡rio estiver logado, exibe o nome e o botÃ£o de logout -->
        <li *ngIf="userName">
          <span class="nav-link btn btn-outline-success"
            >ğŸ‘¤ {{ userName | titlecase }}</span
          >
        </li>
        <li *ngIf="userName">
          <a (click)="logout()" class="nav-link btn btn-outline-danger"
            >ğŸšª Sair</a
          >
        </li>

        <!-- Se nÃ£o estiver logado, exibe Login/Cadastrar -->
        <li *ngIf="!userName">
          <a routerLink="/user-auth" class="nav-link btn btn-outline-primary"
            >ğŸ”‘ Login/Cadastrar</a
          >
        </li>

        <li>
          <a routerLink="cart" class="nav-link btn btn-outline-primary"
            >ğŸ›’ Carrinho ({{ (cartItems$ | async)?.length || 0 }})</a
          >
        </li>
      </ul>

      <!-- Menu para Vendedores -->
      <ul *ngSwitchCase="'seller'" class="nav-links">
        <li>
          <a
            routerLink="seller-add-product"
            class="nav-link btn btn-outline-primary"
            >â• Adicionar Caneta</a
          >
        </li>
        <li>
          <a routerLink="seller-home" class="nav-link btn btn-outline-primary"
            >ğŸ“‹ Lista de Canetas</a
          >
        </li>

        <li *ngIf="sellerName">
          <span class="nav-link btn btn-outline-success"
            >ğŸ‘¤ {{ sellerName | titlecase }}</span
          >
        </li>
        <li>
          <a (click)="logout()" class="nav-link btn btn-outline-danger"
            >ğŸšª Sair</a
          >
        </li>
      </ul>
    </div>
  </nav>
</header>
